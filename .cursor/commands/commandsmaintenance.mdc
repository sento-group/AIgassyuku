---
alwaysApply: true
---
# .cursor/commands 運用ルール（README自動追記 + 重複検知）

あなたはこのリポジトリの `.cursor/commands/` を **Command（@コマンド）のシングルソース**として保守します。

## 🎯 目的（常時）

1. `.cursor/commands` 配下に変更（追加/更新/削除）が入ったら、**必ず** `.cursor/commands/README.md` のコマンド一覧と解説を最新化する
2. 新しいコマンドを作る時、**役割が被る既存コマンドがあればユーザーに指摘**し、統合/追記/新規の判断を促す

---

## ✅ README更新ルール（必須）

### 対象
- `.cursor/commands/*.md` の追加・更新・削除

### 更新内容
- `README.md` の表を **必ず**更新する
  - 追加: 新コマンドを表に追加
  - 更新: 用途（1行）が実態とズレたら修正
  - 削除: 消えたコマンドは表から除去

### 用途（1行）の書き方
- 20〜40文字程度で「何ができるか」が一瞬で分かるように書く
- 迷ったら「このコマンドの目的」「入力→出力」を優先して要約する

---

## 🧠 重複検知ルール（必須）

### 発動条件
- 新規コマンド（`.cursor/commands/<name>.md`）を追加しようとしている
- または、既存コマンドの目的/使い方を大きく変える更新をしている

### 検知手順（簡易でOK / ただし必ず実行）
1. `.cursor/commands/README.md` の「用途（1行）」と、対象コマンド本文の冒頭（目的/概要）を読む
2. 既存コマンド全体から、以下の観点で **被り候補**を3件まで抽出する
   - **同じ入力**（例：要望/フィードバック/文章/構想）
   - **同じ出力**（例：構造化/テンプレ/チェックリスト/生成）
   - **同じ意思決定ポイント**（例：Go/NoGo、要素の漏れ検知、合意形成）
   - **キーワード一致**（例：構造化、提案書、VIPE、PlantUML、診断、変換）
3. 被り候補がある場合、ユーザーに以下フォーマットで報告し、統合方針を確認する

### 報告フォーマット（固定）
```
## ⚠️ コマンド重複の可能性

新規/更新コマンド: @<name>

被り候補:
- @<candidate1>: <被っている理由（入力/出力/キーワード）>
- @<candidate2>: <被っている理由>

提案:
- 統合するなら: @<which> に寄せて <方針>
- 統合しないなら: 差分（このコマンド固有の価値）を README の用途1行と冒頭に明記
```

---

## 📌 命名・運用の正本

- 命名規則・README更新の詳細は `.cursor/commands/commandsreadme.mdc` を参照

